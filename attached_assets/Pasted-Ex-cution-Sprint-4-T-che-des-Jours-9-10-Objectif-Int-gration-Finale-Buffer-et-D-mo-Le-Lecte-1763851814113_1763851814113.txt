Ex√©cution : Sprint 4 - T√¢che des Jours 9-10
Objectif : Int√©gration Finale, Buffer, et D√©mo "Le Lecteur Universel"
Philosophie : "La d√©mo est le test ultime." Tout notre travail des 8 derniers jours converge vers un seul but : rendre les deux sc√©narios de d√©mo fluides, impressionnants et fiables.
Activit√©s des Jours 9-10
1. Int√©gration et D√©bogage de Bout en Bout (Jour 9) :

    Action : Lancer l'application compl√®te et ex√©cuter les sc√©narios de d√©mo une premi√®re fois. S'attendre √† ce que √ßa ne marche pas parfaitement.
    Points de Friction Attendus :
        Probl√®me 1 : Timing de l'OIE. L'OIE pourrait essayer de planifier avant que l'UI n'ait fini d'envoyer le fileBuffer.
        Probl√®me 2 : Format des Donn√©es. Le fileBuffer est-il correctement transmis √† travers 3 couches (UI -> MainBus -> OIE -> UniversalReader) ? Une erreur de s√©rialisation est probable.
        Probl√®me 3 : Feedback de l'UI. Les messages de statut (ocr_progress, status) arrivent-ils correctement et l'UI se met-elle √† jour de mani√®re fluide ?
    M√©thode de D√©bogage : Utiliser l'OrionObservatory intensivement. Filtrer par traceId pour suivre une seule requ√™te d'upload de A √† Z. V√©rifier les logs de chaque agent (UniversalReaderAgent, OIEAgent) pour voir o√π la cha√Æne se brise.

2. Documentation et Nettoyage (Jour 10 - Matin) :

    Action : Une fois que les d√©mos fonctionnent, documenter le nouveau flux de travail.
        Cr√©er docs/features/DocumentReading.md : Expliquer le r√¥le du UniversalReaderAgent, sa logique de routing (pdf.js -> OCR), et comment l'OIE l'utilise.
        Cr√©er LIMITATIONS.md dans src/agents/universal-reader/ : Documenter explicitement les limites actuelles (pas de PDFs chiffr√©s, OCR moins fiable sur du texte manuscrit, etc.), comme nous l'avons planifi√©.

3. Ex√©cution de la D√©mo Finale (Jour 10 - Apr√®s-midi) :

    Action : Ex√©cuter le script de d√©mo final devant un "public" (nous-m√™mes, pour cette simulation).

La D√©mo Finale : "Le Lecteur Universel"
Sc√©nario de D√©mo :

    Lancement et Pr√©paration :
        Action : Lancer l'application. Attendre que Phi-3 soit charg√©.
        Pr√©parer deux fichiers :
            rapport_annuel.pdf (un PDF de 5-10 pages avec du texte natif).
            screenshot_article.png (un screenshot d'un article de presse).
    D√©mo 1 : "Le Lecteur Intelligent" (PDF Natif)
        Action : Cliquer sur l'ic√¥ne üìé, s√©lectionner rapport_annuel.pdf.
        R√©sultat Attendu (UI) : La pr√©visualisation "üìÑ rapport_annuel.pdf" appara√Æt.
        Action : Taper dans le chat : "Fais-moi un r√©sum√© des points financiers cl√©s de ce rapport." et envoyer.
        R√©sultat Attendu (UI & Observatory) :
            Le message de l'utilisateur appara√Æt.
            L'indicateur "Kensho √©crit..." s'affiche.
            Dans l'Observatory, on voit l'OIE g√©n√©rer un plan [UniversalReaderAgent, MainLLMAgent].
            On voit le UniversalReaderAgent logger "D√©but de la lecture du PDF...", puis "PDF lu avec succ√®s (m√©thode: pdf-native)".
            Kensho commence √† streamer une r√©ponse coh√©rente : "D'apr√®s le rapport, les points financiers cl√©s sont une augmentation du chiffre d'affaires de 15% pour atteindre 2.5M‚Ç¨, et une marge b√©n√©ficiaire de 12%..."
    D√©mo 2 : "L'≈íil qui Lit" (Image OCR)
        Action : Cliquer sur l'ic√¥ne üìé, s√©lectionner screenshot_article.png.
        R√©sultat Attendu (UI) : La pr√©visualisation "üìÑ screenshot_article.png" appara√Æt.
        Action : Taper dans le chat : "Quel est le titre de cet article ?" et envoyer.
        R√©sultat Attendu (UI & Observatory) :
            Le message de l'utilisateur appara√Æt.
            L'indicateur de statut change pour "üîç Analyse de l'image avec OCR..." et une barre de progression appara√Æt.
            Dans l'Observatory, on voit le UniversalReaderAgent logger "D√©but de l'analyse OCR...".
            La barre de progression dans l'UI se remplit de 0% √† 100% sur 15-20 secondes.
            Une fois l'OCR termin√©, l'indicateur redevient "Kensho √©crit...".
            Kensho r√©pond en streaming : "Le titre de l'article est 'Les March√©s Financiers en Hausse Apr√®s les Annonces de la Banque Central